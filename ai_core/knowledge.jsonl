{"id": 1, "topic": "Dataset structure", "content": "Argo data is organized under https://data-argo.ifremer.fr/. The key directories are /dac/ (actual float NetCDF files), /aux/ (auxiliary), /geo/ (regional subsets), /latest_data/ (rolling recent profiles), and index text files (*.txt) that catalog file locations."}
{"id": 2, "topic": "NetCDF file types", "content": "Each float directory contains multiple NetCDFs: *_prof.nc (profiles: TEMP, PSAL, PRES), *_Sprof.nc (synthetic profiles, often BGC), *_traj.nc (trajectory: float position & metadata), *_meta.nc (instrument details), *_tech.nc (technical logs). For prototype, prof.nc is most important."}
{"id": 3, "topic": "Indexes", "content": "Index files like ar_index_global_prof.txt list float profiles with float_id, date, lat, lon, and file path. These help locate which NetCDF to download without scanning all data. They act as catalogs."}
{"id": 4, "topic": "Core attributes", "content": "For FloatAI prototype, the required attributes are: float_id, profile_date, latitude, longitude, pressure (PRES), temperature (TEMP), salinity (PSAL). Optionally include QC flags (PRES_QC, TEMP_QC, PSAL_QC)."}
{"id": 5, "topic": "float_id", "content": "float_id can be derived from the folder name under /dac/incois/ or directly from the index file paths (e.g. dac/incois/2902273/ -> float_id=2902273)."}
{"id": 6, "topic": "profile_date", "content": "Profile date is recorded in the index file ar_index_global_prof.txt as date field (YYYYMMDDHHMMSS). Inside NetCDFs, it corresponds to JULD (Julian date) and can be converted to standard datetime."}
{"id": 7, "topic": "latitude & longitude", "content": "Latitude and longitude are columns in ar_index_global_prof.txt and are also present in *_prof.nc NetCDF files as LATITUDE and LONGITUDE variables."}
{"id": 8, "topic": "pressure", "content": "Pressure (PRES) is stored inside *_prof.nc files under variable PRES. It is a 1D or 2D array per profile, representing depth levels."}
{"id": 9, "topic": "temperature", "content": "Temperature (TEMP) is stored inside *_prof.nc files under variable TEMP. Often given as potential temperature at measured depths. Each value has a QC flag TEMP_QC."}
{"id": 10, "topic": "salinity", "content": "Salinity (PSAL) is stored inside *_prof.nc files under variable PSAL. Each value has a QC flag PSAL_QC. Delayed-mode files may contain adjusted versions PSAL_ADJUSTED."}
{"id": 11, "topic": "QC flags", "content": "Each variable (PRES, TEMP, PSAL) has an associated *_QC field indicating quality. Values like 1=good, 2=probably good, 3=bad, etc. For prototype, keep them optional."}
{"id": 12, "topic": "Prototyping subset", "content": "For hackathon prototype, download ~20 floats from /dac/incois/ and restrict to ~2 weeks of data. This ensures small size (<1GB) but still realistic."}
{"id": 13, "topic": "Relational DB", "content": "Convert NetCDF to relational schema in PostgreSQL. Example schema: profiles(float_id INT, profile_date TIMESTAMP, lat FLOAT, lon FLOAT, pres FLOAT, temp FLOAT, psal FLOAT). One row per depth-level reading."}
{"id": 14, "topic": "Parquet storage", "content": "Optionally, store extracted NetCDF data into Parquet format for fast access in Python/analytics pipelines. This can be ingested into dashboards."}
{"id": 15, "topic": "Vector DB", "content": "For RAG, store knowledge/context (like this JSONL) in a vector database such as FAISS or Chroma. Each entry is embedded with an embedding model and retrieved to guide query translation."}
{"id": 16, "topic": "Query flow", "content": "User query -> LLM interprets -> matches context from vector DB -> generates SQL/Parquet filter -> retrieves data from PostgreSQL/Parquet -> result returned and visualized."}
{"id": 17, "topic": "Example query", "content": "User: 'Show me salinity near equator in March 2023' -> LLM maps to: SELECT * FROM profiles WHERE ABS(lat)<5 AND date BETWEEN '2023-03-01' AND '2023-03-31';"}
{"id": 18, "topic": "Citations & usage", "content": "All Argo data must be cited as: 'These data were collected and made freely available by the International Argo Program and the national programs that contribute to it (http://www.argo.ucsd.edu, http://argo.jcommops.org)'. Include DOI http://doi.org/10.17882/42182 if needed."}
